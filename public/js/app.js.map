{"version":3,"file":"app.js","mappings":"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","sources":["webpack://ball-ui/./dynamic-js/modules/Ajax.js","webpack://ball-ui/./dynamic.config.js","webpack://ball-ui/./dynamic-js/Dynamic.js","webpack://ball-ui/./dynamic-js/modules/ContentLoader.js","webpack://ball-ui/./dynamic-js/modules/Router.js","webpack://ball-ui/./dynamic-js/modules/ScriptLoader.js","webpack://ball-ui/webpack/bootstrap","webpack://ball-ui/webpack/runtime/define property getters","webpack://ball-ui/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["export default class Ajax{\r\n    #props;\r\n    #sendData;\r\n\r\n    constructor(props) {\r\n        this.#props = {\r\n            url: props.url,\r\n            method: (props.method ?? 'get').toUpperCase(),\r\n            data: props.data ?? {},\r\n            success: props.success ?? (() => {\r\n            }),\r\n            error: props.error ?? (() => {\r\n            }),\r\n            beforeSend: props.beforeSend ?? (() => {\r\n            }),\r\n            contentType: props.contentType ?? 'application/x-www-form-urlencoded'\r\n        };\r\n\r\n        this.#sendData = '';\r\n\r\n        if (this.#props.data) {\r\n            this.#sendData = this.#objToUrl(this.#props.data);\r\n        }\r\n    }\r\n\r\n    #objToUrl(data, parentKey = '') {\r\n        const params = [];\r\n\r\n        for (const key in data) {\r\n            if (data.hasOwnProperty(key)) {\r\n                const paramKey = parentKey ? `${parentKey}[${key}]` : key;\r\n                if (typeof data[key] === 'object' && !Array.isArray(data[key])) {\r\n                    const nestedParams = this.#objToUrl(data[key], paramKey);\r\n                    params.push(nestedParams);\r\n                } else if (Array.isArray(data[key])) {\r\n                    data[key].forEach((item, index) => {\r\n                        if (typeof item === 'object' && !Array.isArray(item)) {\r\n                            const nestedParams = this.#objToUrl(item, `${paramKey}[${index}]`);\r\n                            params.push(nestedParams);\r\n                        } else {\r\n                            params.push(`${paramKey}[]=${encodeURIComponent(item)}`);\r\n                        }\r\n                    });\r\n                } else {\r\n                    params.push(`${paramKey}=${encodeURIComponent(data[key])}`);\r\n                }\r\n            }\r\n        }\r\n\r\n        return params.join('&');\r\n    }\r\n\r\n    async send(){\r\n        this.#props.beforeSend();\r\n\r\n        let response = null;\r\n\r\n        const xhr = new XMLHttpRequest();\r\n\r\n        this.#props.url += this.#props.method === 'POST' ? '' : ('?' + this.#sendData);\r\n\r\n        xhr.open(this.#props.method, this.#props.url, true);\r\n\r\n        xhr.setRequestHeader(\"Content-Type\", this.#props.contentType);\r\n\r\n        xhr.send(this.#sendData);\r\n\r\n        const that = this;\r\n\r\n        xhr.onreadystatechange = await function () {\r\n            if (this.readyState === 4) {\r\n                response = {statusCode: xhr.status, statusText: xhr.statusText};\r\n                try {\r\n                    response.response = JSON.parse(xhr.responseText);\r\n                } catch (e) {\r\n                    response.response = xhr.responseText;\r\n                }\r\n\r\n                if (this.status === 200) {\r\n                    that.#props.success(response.response, response)\r\n                } else {\r\n                    that.#props.error(response.response, response)\r\n                }\r\n            }\r\n        };\r\n    }\r\n}","export const config = {\r\n    templates: {\r\n        basedir : './public/html',\r\n        urlpath : '/public'\r\n    },\r\n    routesUrl : '/routes.json'\r\n};","import Ajax from './modules/Ajax';\r\nimport ContentLoader from './modules/ContentLoader';\r\nimport ScriptLoader from './modules/ScriptLoader';\r\nimport Router from './modules/Router';\r\nimport {config} from '../dynamic.config';\r\n\r\nexport async function ajax(props) {\r\n    return await new Ajax(props).send();\r\n}\r\n\r\nexport async function loadScripts(scripts){\r\n    return await new ScriptLoader(scripts);\r\n}\r\n\r\nconst contentLoader = new ContentLoader();\r\n\r\nexport async function loadContent(file){\r\n    await contentLoader.getContent(file);\r\n}\r\n\r\nexport function setCookie(name, value, expirationInDays) {\r\n    const expirationDate = new Date();\r\n    expirationDate.setDate(expirationDate.getDate() + expirationInDays);\r\n\r\n    const cookieValue = encodeURIComponent(value) + '; expires=' + expirationDate.toUTCString() + '; path=/';\r\n    document.cookie = name + '=' + cookieValue;\r\n}\r\n\r\nexport function getCookie(name) {\r\n    const decodedCookies = decodeURIComponent(document.cookie);\r\n    const cookiesArray = decodedCookies.split('; ');\r\n\r\n    for (let i = 0; i < cookiesArray.length; i++) {\r\n        const cookieParts = cookiesArray[i].split('=');\r\n        if (cookieParts[0] === name) {\r\n            return cookieParts[1] || '';\r\n        }\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nexport const router = new Router();\r\n\r\nexport class Dynamic{\r\n    config = {};\r\n    router;\r\n    ajax;\r\n    loadScripts;\r\n    loadContent;\r\n    setCookie;\r\n    getCookie;\r\n\r\n\r\n    constructor(){\r\n        this.config = config;\r\n        this.router = router;\r\n        this.ajax = ajax;\r\n        this.loadScripts = loadScripts;\r\n        this.loadContent = loadContent;\r\n        this.setCookie = setCookie;\r\n        this.getCookie = getCookie;\r\n    }\r\n}\r\n\r\nexport const DynamicJS = new Dynamic();","import {ajax,loadScripts} from \"../Dynamic\";\r\n\r\nexport default class ContentLoader{\r\n    #loaded = {};\r\n\r\n    constructor(){}\r\n\r\n    async getContent(file){\r\n        const that = this;\r\n        if (this.#loaded[file]) {\r\n            await this.#insertContent(this.#loaded[file]);\r\n            return;\r\n        }\r\n\r\n        await ajax({\r\n            url: file,\r\n            method: 'get',\r\n            async success(content){\r\n                that.#loaded[file] = content;\r\n                await that.#insertContent(content);\r\n            }\r\n        })\r\n    }\r\n\r\n    async #insertContent(HTML){\r\n\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(HTML, 'text/html');\r\n\r\n        const scriptTags = doc.querySelectorAll('script');\r\n\r\n        document.body.innerHTML = doc.body.innerHTML;\r\n\r\n        await Array.from(scriptTags).map(async script => {\r\n            if(script.src && script.src.includes('.js')){\r\n                await loadScripts({srcs:[script.src]});\r\n            }else{\r\n                await loadScripts({scripts:[script.textContent]});\r\n            }\r\n        });\r\n    }\r\n}","import {getCookie, loadContent, setCookie, ajax} from \"../Dynamic\";\r\nimport {config} from '../../dynamic.config';\r\nimport routes from '../../routes';\r\n\r\nexport default class Router {\r\n\r\n    #history = {};\r\n    #currentRoute = null;\r\n\r\n    referer = {};\r\n\r\n    constructor(){\r\n        // const historyJson = getCookie('history');\r\n        //\r\n        // if (!historyJson){\r\n        //     setCookie('history','{}',365);\r\n        //     this.#history = {};\r\n        // } else{\r\n        //     try {\r\n        //         this.#history = JSON.parse(historyJson);\r\n        //     }catch (e){\r\n        //         setCookie('history','{}',365);\r\n        //         this.#history = {};\r\n        //     }\r\n        // }\r\n\r\n        this.referer = null;\r\n\r\n        this.update();\r\n\r\n        this.#events();\r\n    }\r\n\r\n    #events(){\r\n        window.addEventListener('popstate', (event) => {\r\n            this.update();\r\n\r\n            this.#generateReferer();\r\n\r\n            if (typeof this.onChange === 'function') {\r\n                this.onChange(event.state, this.referer);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('click', (event) => {\r\n            const target = event.target;\r\n            if (target.matches('a.router') || target.closest('a.router')){\r\n                const a = target.matches('a.router') ? target : target.closest('a.router');\r\n\r\n                if ( !a.href ) return;\r\n\r\n                event.preventDefault();\r\n\r\n                this.go(a.href);\r\n            }\r\n        });\r\n    }\r\n\r\n    #generateReferer(){\r\n        const id = this.getHistoryLastId();\r\n\r\n        this.referer = {\r\n            path : window.location.pathname,\r\n            title : document.title,\r\n            name : null,\r\n            routeName: '',\r\n        };\r\n\r\n        if (id){\r\n            this.referer.path = this.#history[id]?.route?.path || this.referer.path;\r\n            this.referer.title = this.#history[id]?.route?.title || this.referer.title;\r\n            this.referer.route = this.#history[id]?.route || null;\r\n            this.referer.routeName = this.#history[id]?.routeName || '';\r\n        }\r\n    }\r\n\r\n    #getRoute(url = null,returnRoute = false){\r\n\r\n        const path = url ? url : window.location.href;\r\n\r\n        if (url && typeof routes[url] === 'object'){\r\n            return returnRoute ? routes[url] : url;\r\n        }\r\n\r\n        for (const name in routes){\r\n            const route = routes[name];\r\n            const parsedUrl = this.#parseUrl(window.location.origin + route.path,path);\r\n            if (parsedUrl.match){\r\n                routes[name].variables = parsedUrl.variables;\r\n                return returnRoute ? routes[name] : name ;\r\n            }\r\n        }\r\n\r\n        if (typeof routes['not-found'] === 'object'){\r\n            return returnRoute ? routes['not-found'] : 'not-found';\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    getCurrent(){\r\n        return this.#currentRoute;\r\n    }\r\n    \r\n    update(){\r\n        const routeName = this.#getRoute();\r\n\r\n        if (routeName){\r\n            const route = routes[routeName];\r\n\r\n            this.#currentRoute = route;\r\n\r\n            loadContent(config.templates.urlpath + route.template);\r\n\r\n            document.title = routeName ? route.title : '';\r\n        }\r\n    }\r\n\r\n    go(url,force = false){\r\n        const routeName = this.#getRoute(url);\r\n\r\n        if (routeName || !routeName && force) {\r\n\r\n            const lastId = this.getHistoryLastId();\r\n\r\n            const data = {\r\n                id : lastId + 1,\r\n            };\r\n\r\n            const route = routes[routeName] || {};\r\n\r\n            if (routeName){\r\n                data.page = route.name;\r\n                data.routeName = routeName;\r\n                data.route = route;\r\n            } else {\r\n                \r\n                if (!this.isURL(url)){\r\n                    throw new Error('Route error: Route can\\'t be force changed because ' + url + ' is not right url' );\r\n                    return;\r\n                }\r\n                \r\n                data.page = 'No name';\r\n                route.routeName = '';\r\n                data.route = null;\r\n            }\r\n\r\n            this.#generateReferer();\r\n\r\n            window.history.pushState(data,routeName ? route.title : data.name,url);\r\n\r\n            this.#pushHistory(data);\r\n\r\n            this.update();\r\n\r\n            if (typeof this.onChange === 'function') {\r\n                this.onChange(data,this.referer);\r\n            }\r\n        }\r\n    }\r\n\r\n    getHistoryLastId(){\r\n        const ids = Object.keys(this.#history);\r\n\r\n        return ids.length ? +ids[ids.length - 1] : 0;\r\n    }\r\n\r\n    #pushHistory(data){\r\n        const history = this.#history;\r\n\r\n        const lastId = this.getHistoryLastId();\r\n\r\n        history[lastId + 1] = data;\r\n\r\n        this.#history = history;\r\n\r\n        // setCookie('history',JSON.stringify(history),1 / 24);\r\n    }\r\n\r\n    onChange = (data,referer) => {};\r\n\r\n    isURL(str) {\r\n        const urlPattern = new RegExp('^(https?:\\\\/\\\\/)?' +\r\n            '((([a-zA-Z\\\\d]([a-zA-Z\\\\d-]{0,61}[a-zA-Z\\\\d])?)\\\\.)+[a-zA-Z]{2,6}|' +\r\n            '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' +\r\n            '(\\\\:\\\\d+)?(\\\\/[-a-zA-Z\\\\d%@_.~+&:]*)*' +\r\n            '(\\\\?[;&a-zA-Z\\\\d%@_.,~+&:=-]*)?' +\r\n            '(\\\\#[-a-zA-Z\\\\d_]*)?$', 'i');\r\n\r\n        return urlPattern.test(str);\r\n    }\r\n\r\n    #parseUrl(template, url) {\r\n        const regexPattern = template.replace(/\\{[^\\}]+\\}/g, '([^\\/]+)');\r\n\r\n        const regex = new RegExp(`^${regexPattern}$`);\r\n\r\n        const match = url.match(regex);\r\n\r\n        if (match) {\r\n            const parts = template.match(/\\{[^\\}]+\\}/g);\r\n            const values = {};\r\n\r\n            if (parts) {\r\n                parts.forEach((part, index) => {\r\n                    const key = part.replace(/[{}]/g, '');\r\n                    values[key] = match[index + 1];\r\n                });\r\n            }\r\n\r\n            return {\r\n                variables: values,\r\n                match: true,\r\n            };\r\n        } else {\r\n            return {\r\n                variables: {},\r\n                match: false,\r\n            };\r\n        }\r\n    }\r\n}\r\n","import {ajax} from '../Dynamic';\r\n\r\nexport default class ScriptLoader{\r\n\r\n    srcs;\r\n    scripts;\r\n\r\n    constructor(JavaScript){\r\n\r\n        this.srcs = JavaScript?.srcs || [];\r\n        this.scripts = JavaScript?.scripts || [];\r\n\r\n        this.#load();\r\n\r\n    }\r\n\r\n    async #load(){\r\n\r\n        if (this.srcs){\r\n            for (const src of this.srcs){\r\n                await this.#loadFile(src);\r\n            }\r\n        }\r\n\r\n        if (this.scripts) {\r\n            for (const script of this.scripts){\r\n                await eval(script);\r\n            }\r\n        }\r\n    }\r\n\r\n    async #loadFile(src){\r\n        let js = '';\r\n\r\n        ajax({\r\n            url: src,\r\n            success(content) {\r\n                eval(content);\r\n\r\n            }\r\n        });\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["Ajax","constructor","props","this","url","method","toUpperCase","data","success","error","beforeSend","contentType","parentKey","params","key","hasOwnProperty","paramKey","Array","isArray","forEach","item","index","push","encodeURIComponent","nestedParams","join","send","response","xhr","XMLHttpRequest","open","setRequestHeader","that","onreadystatechange","readyState","statusCode","status","statusText","JSON","parse","responseText","e","config","templates","basedir","urlpath","routesUrl","async","ajax","loadScripts","scripts","ScriptLoader","contentLoader","getContent","file","content","HTML","doc","DOMParser","parseFromString","scriptTags","querySelectorAll","document","body","innerHTML","from","map","script","src","includes","srcs","textContent","loadContent","setCookie","name","value","expirationInDays","expirationDate","Date","setDate","getDate","cookieValue","toUTCString","cookie","getCookie","cookiesArray","decodeURIComponent","split","i","length","cookieParts","router","referer","update","window","addEventListener","event","onChange","state","target","matches","closest","a","href","preventDefault","go","id","getHistoryLastId","path","location","pathname","title","routeName","route","returnRoute","parsedUrl","origin","match","variables","getCurrent","template","force","page","isURL","Error","history","pushState","ids","Object","keys","str","RegExp","test","regexPattern","replace","regex","parts","values","part","JavaScript","eval","js","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","call"],"sourceRoot":""}